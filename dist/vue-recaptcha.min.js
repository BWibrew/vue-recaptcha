!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueRecaptcha=t()}(this,function(){"use strict";function e(){var e=n();return{setRecaptcha:function(t){e.resolve(t)},getRecaptcha:function(){return e.promise},render:function(e,n,i,r){this.getRecaptcha().then(function(c){var o=t({},{sitekey:n},i);r(c.render(e,o))})},reset:function(e){"undefined"!=typeof e&&(this.assertRecaptchaLoad(),this.getRecaptcha().then(function(t){return t.reset(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&this.setRecaptcha(window.grecaptcha)},assertRecaptchaLoad:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n=function(){var e=!1,t=void 0,n=[],i=function(i){e||(e=!0,t=i,n.forEach(function(e){e(i)}))},r=function(i){return e?void i(t):void n.push(i)},c={resolved:function(){return e},resolve:i,promise:{then:r}};return c},i=e();"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=function(){i.setRecaptcha(window.grecaptcha)});var r={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},options:{type:Object,default:function(){return{}}}},created:function(){this.$widgetId=null},mounted:function(){var e=this;i.checkRecaptchaLoad();var n=t({},this.options,{callback:this.emitVerify,"expired-callback":this.emitExpired});i.render(this.$refs.container,this.sitekey,n,function(t){e.$widgetId=t,e.$emit("render",t)})},methods:{reset:function(){i.reset(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},events:{recaptchaReset:function(){this.reset()}},render:function(e){if(this.$slots.default){var n=this.$slots.default[0];return e(n.tag,t({},n.data,{ref:"container"}),n.children)}return e("div",{ref:"container"},[])}};return r});
